<!DOCTYPE html>
<html lang="ms">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Maafkan saya?</title>
  <style>
    :root{
      --bg:#fbf7f2;
      --ink:#2f2a26;
      --ring:#eadfce;
      --btn:#ffffff;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;background:var(--bg);color:var(--ink);font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;}
    .wrap{position:relative;min-height:100dvh;display:grid;place-items:center;padding:20px}
    .card{position:relative;background:#fffdf9;border:1px solid var(--ring);border-radius:18px;box-shadow:0 10px 30px rgba(0,0,0,.06);padding:28px;max-width:min(680px,92vw);text-align:center}
    h1{margin:0 0 10px;font-size:clamp(26px,4.5vw,38px)}
    p{margin:0 0 18px}
    .arena{position:relative;height:220px;max-width:520px;margin:0 auto;overflow:hidden;}
    .btn{position:absolute;inset:auto auto 0 50%;transform:translateX(-110%);
      appearance:none;border:1px solid var(--ring);background:var(--btn);padding:12px 18px;border-radius:14px;font-weight:700;cursor:pointer;box-shadow:0 6px 16px rgba(0,0,0,.07)}
    .btn:active{transform:translateX(-110%) scale(.98)}
    #no{left:50%;transform:translateX(10%);}
    #thanks{display:none;margin-top:8px;font-weight:600}
    .hint{font-size:12px;color:#857a72;margin-top:10px}
    /* Animasi gambar terapung */
    .fly {
      position: absolute;
      bottom: 0;
      width: 40px; /* saiz boleh ubah */
      animation: floatUp 4s linear forwards;
      pointer-events: none;
    }
    @keyframes floatUp {
      0% { transform: translateY(0) scale(1); opacity: 1; }
      100% { transform: translateY(-300px) scale(0.6); opacity: 0; }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <main class="card" aria-live="polite">
      <h1>Maafkan saya sayangü•π?</h1>
      <p>Saya betul-betul menyesal. Saya banyak buat salah dengan awak. Boleh tak beri saya peluang?</p>

      <div class="arena" id="arena">
        <button id="yes" class="btn" aria-label="Yes">Yes ‚ù§Ô∏è</button>
        <button id="no" class="btn" aria-label="No">No ü•π</button>
      </div>

      <div id="thanks">Yeayyy sayang maafkan saya. Terima kasih sayang‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è! Saya hargai sangat awak ‚ù§Ô∏è</div>
      <div class="hint">(Cuba sayang tekan No‚Ä¶ kalau dapatlah hehe üòú)</div>
    </main>
  </div>

  <script>
    const arena = document.getElementById('arena');
    const yesBtn = document.getElementById('yes');
    const noBtn  = document.getElementById('no');
    const thanks = document.getElementById('thanks');

    function centerButtons(){
      const a = arena.getBoundingClientRect();
      const y = yesBtn.getBoundingClientRect();
      const n = noBtn.getBoundingClientRect();
      yesBtn.style.top = (a.height/2 - y.height/2) + 'px';
      yesBtn.style.left = (a.width/2 - y.width - 10) + 'px';
      noBtn.style.top  = (a.height/2 - n.height/2) + 'px';
      noBtn.style.left = (a.width/2 + 10) + 'px';
    }

    function moveNo(){
      const a = arena.getBoundingClientRect();
      const n = noBtn.getBoundingClientRect();
      const y = yesBtn.getBoundingClientRect();
      const padding = 6;
      const maxLeft = a.width - n.width - padding;
      const maxTop  = a.height - n.height - padding;

      let tries = 0; let left, top;
      do{
        left = padding + Math.random() * (maxLeft - padding);
        top  = padding + Math.random() * (maxTop  - padding);
        tries++;
        const nx = left + n.width/2, ny = top + n.height/2;
        const yx = (y.left - a.left) + y.width/2;
        const yy = (y.top  - a.top ) + y.height/2;
        var ok = Math.hypot(nx - yx, ny - yy) > Math.max(n.width, n.height) * 1.6;
      } while(!ok && tries < 30);

      noBtn.style.left = left + 'px';
      noBtn.style.top  = top  + 'px';
    }

    ['mouseenter','mouseover','mousedown','touchstart','focus'].forEach(evt=>{
      noBtn.addEventListener(evt, e=>{
        e.preventDefault();
        moveNo();
      }, {passive:false});
    });
    noBtn.addEventListener('click', e=>{ e.preventDefault(); moveNo(); });

    // Fungsi untuk cipta gambar terapung
    function createFlyingImage() {
      const img = document.createElement('img');
      img.src = 'hi.jpg'; // ganti dengan path gambar awak
      img.className = 'fly';
      img.style.left = Math.random() * arena.clientWidth + 'px';
      img.style.width = (30 + Math.random()*20) + 'px';
      arena.appendChild(img);
      setTimeout(() => img.remove(), 4000);
    }

    // Gambar keluar selepas tekan Yes
    yesBtn.addEventListener('click', ()=>{
      let imageInterval = setInterval(createFlyingImage, 400); // keluar setiap 400ms
      thanks.style.display = 'block';
      arena.style.pointerEvents = 'none';
      yesBtn.style.opacity = '0';
      noBtn.style.opacity = '0';
      setTimeout(()=>{
        yesBtn.style.display='none';
        noBtn.style.display='none';
      }, 300);
    });

    window.addEventListener('load', centerButtons);
    window.addEventListener('resize', centerButtons);
  </script>
</body>
</html>
